[[create-an-app-from-a-docker-image]]
= Create an App from a Container image

== Create an App from a Docker image

In this lab you will learn how to create a new project on OpenShift and
how to create an application from an existing docker image using Web UI.

=== Add a new project

IMPORTANT: Please replace *Username* with your username

- login to web UI via {{CONSOLE_ADDRESS}}
- Use the same username and password that assigned to you
- On the left-hand side menu, select 'Home' and then select 'Project'
- Click 'Create Project'
- Enter 'web-terminal-*Username*' as name of the project

=== Deploy an Image

- Click 'Deploy Image', or in the top-right, click the 'Add' drop-down menu and select 'Deploy Image'
- Enter "quay.io/openshiftlabs/workshop-terminal:2.4.0" in the 'Image Name' box,
  noting that there's no "http://", enter exactly as shown here,
  without the quotes, and then select the magnifying glass to the right of the box,
  this will show you more information about the image.
- Click on search icon: image::search.png[image]

- Enter a Name for the deployment
- Scroll down a bit and provide an environment variable. We need to set "OC_VERSION" to be "4.1" here as shown

image::ocp4-deploy-image.png[image]

- Click `Deploy`
- On the left-hand side menu, select 'Workload' and then select 'Deployments Configs'
- Click onto the Deployment config, you will see the deployment details here

image::ocp4-dc.png[image]

- click the tab 'Pods' to watch the deployment to complete

image::ocp4-terminal.png[image]

- On the left-hand side menu, select 'Home' and then select 'Deployments Events' to check status on each events.

*Step 3: Create route*

Next we need to create a route so we can access this application from the outside of OpenShift (i.e. from the internet).

- On the left-hand side menu, select 'Networking' and then select 'Routes'
- Click `create route` in the top-left
- Enter 'workshop-terminal' for the name of the route, leave the hostname and path the default, select 'workshop-terminal' from the list of services in the 'Service' menu, and select the only port in the 'Target Port' drop down (should be port 10080 --> 10080), like this:

image::ocp4-route.png[image]

- When you're ready, click 'Create' at the bottom and it will create the route.
- You will now be presented with a pane that shows the overview of the route:

image::ocp4-route-details.png[image]


=== Accessing the terminal

- In the top right hand side of the route details page, you will see the 'Location' which will be the routable URL that will provide access to our workshop terminal.
- Click on this and you should now see the in-browser terminal session that we can use (if preferred, or mandated due to connectivity issues):

image::ocp4-web-terminal.png[image]

- Execute the following in the terminal:

```
$ wget https://mirror.openshift.com/pub/openshift-v3/clients/4.1.0-201904090034.git.0.1016bda.el7/linux/oc.tar.gz
$ tar zvxf oc.tar.gz
$ mv oc /opt/app-root/bin/
$ oc version
```


Congratulations!! You now know how to create a project, an application
using an external docker image and navigate around. You can use this terminal
to access the cluster via CLI.
